<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <meta charset='utf-8'>
    <title>Making Modals | Formulas | Learn Ionic</title>
    <link href='/css/site.css' rel='stylesheet'>
    <link href='//cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.0/animate.min.css' rel='stylesheet'>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-44023830-6', 'ionicframework.com');
      ga('send', 'pageview');
    </script>
  </head>
  <body class='full-page no-js'>
    <script>
      document.body.classList.remove('no-js');
    </script>
    <div class='container'>
      <div class='row'>
        <div class='side-nav'>
          <div class='logo'>
            <a href='/'>
              <img alt='Learn Ionic Framework' height='43' src='/img/learn-ionicframework@2x.png' width='194'>
            </a>
          </div>
          <nav>
            <ul>
              <li>
                <a href='/videos/'>
                  <i class='ion-videos'></i>
                  <p>Videos</p>
                </a>
              </li>
              <li>
                <a class='active' href='/formulas/'>
                  <i class='ion-formulas'></i>
                  <p>Formulas</p>
                </a>
              </li>
              <li>
                <a href='/talks/'>
                  <i class='ion-talks'></i>
                  <p>Talks</p>
                </a>
              </li>
              <li>
                <a href='/resources/'>
                  <i class='ion-resources'></i>
                  <p>Resources</p>
                </a>
              </li>
            </ul>
            <footer>
              <ul>
                <li>
                  <a href='https://github.com/driftyco/ionic-learn/issues/new' target='_new'>
                    <i class='ion-suggestions'></i>
                    <p>Suggest a Topic</p>
                  </a>
                </li>
                <li>
                  <a href='http://forum.ionicframework.com/' target='_new'>
                    <i class='ion-forum'></i>
                    <p>Forums</p>
                  </a>
                </li>
                <li>
                  <a href='https://github.com/driftyco/ionic' target='_new'>
                    <i class='ion-github'></i>
                    <p>Github</p>
                  </a>
                </li>
                <li>
                  <a href='https://twitter.com/ionicframework' target='_new'>
                    <i class='ion-twitter'></i>
                    <p>Twitter</p>
                  </a>
                </li>
                <li>
                  <a href='https://plus.google.com/+Ionicframework/posts' target='_new'>
                    <i class='ion-googleplus'></i>
                    <p>Plus</p>
                  </a>
                </li>
              </ul>
            </footer>
            <form action='http://codiqa.createsend.com/t/t/s/thodi/' class='email-digest' method='post'>
              <label for='cm-thodi-thodi'>
                <p>Sign up for the weekly Learn Digest!</p>
              </label>
              <div class='digest-wrapper'>
                <input name='cm-thodi-thodi' placeholder='Email address' required type='email'>
                <input type='submit' value='Go'>
              </div>
            </form>
            <div class='email-digest-success'>
              <p>Thanks for signing up. Every Friday you'll get an update on all of the new and exciting lessons on Learn Ionic!</p>
            </div>
          </nav>
        </div>
        <div class='main-pane'>
          <div class='content formula'>
            <nav>
              <a class='left' href='/formulas/'>
                <i class='ion-chevron-left'></i>
                <span style='margin-left:0px;'>All Formulas</span>
              </a>
            </nav>
            <article>
              <header>
                <h1>Making Modals</h1>
                <div class='byline'>
                  <img src='/img/authors/gerred-dillon.png'>
                  <span class='author'>
                    Written by
                    <a href='https://twitter.com/justicefries' target='_new'>Gerred Dillon</a>
                  </span>
                  <time></time>
                </div>
                <div class='social-buttons'>
                  <a href="https://twitter.com/share" class="twitter-share-button" data-via="ionicframework" data-related="ionicframework">Tweet</a>
                  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                </div>
              </header>
              <h2 id="the-structure-of-a-modal">The Structure of a Modal</h2>
              
              <p>In Ionic, modals are provided by the <code>$ionicModal</code> directive. This is pretty easy to use and powerful, with a lot of <a href="http://ionicframework.com/docs/api/service/$ionicModal/">information available in the documentation</a>. Ionic’s modal allows creation from either a template string or a URL. In this formula, we will use a URL.</p>
              
              <p>Modals are created with a scope. This can be used in simple examples to pass data. However, for more complicated examples, shared data access is best done through a service.</p>
              
              <h2 id="making-the-modals-markup">Making the Modal’s Markup</h2>
              
              <p>Creating a modal is simple. First, let’s create our UI. This example will be a simple contact view. Tapping the contact card will allow it to be edited.</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre><span class="tag">&lt;ion-header-bar</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">bar-energized</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;  <span class="tag">&lt;h1</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Contact Info<span class="tag">&lt;/h1&gt;</span>&#x000A;<span class="tag">&lt;/ion-header-bar&gt;</span>&#x000A;<span class="tag">&lt;ion-content&gt;</span>&#x000A;<span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">card</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">ng-controller</span>=<span class="string"><span class="delimiter">'</span><span class="content">MainCtrl</span><span class="delimiter">'</span></span> <span class="attribute-name">ng-click</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">openModal()</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;  <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">item item-divider</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;    {{contact.name}}&#x000A;  <span class="tag">&lt;/div&gt;</span>&#x000A;  <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">item item-text-wrap</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;    {{contact.info}}&#x000A;  <span class="tag">&lt;/div&gt;</span>&#x000A;<span class="tag">&lt;/div&gt;</span>&#x000A;<span class="tag">&lt;/ion-content&gt;</span></pre></div>
              </div>
              </div>
              
              <p>Right now, this looks pretty standard - the only reference to the modal is a scope function. What this example is lacking is our actual contact modal. Add it inline to the markup:</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre><span class="tag">&lt;script</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">contact-modal.html</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text/ng-template</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;<span class="inline">  <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">modal</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;    <span class="tag">&lt;ion-header-bar&gt;</span>&#x000A;      <span class="tag">&lt;h1</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Edit Contact<span class="tag">&lt;/h1&gt;</span>&#x000A;    <span class="tag">&lt;/ion-header-bar&gt;</span>&#x000A;    <span class="tag">&lt;ion-content&gt;</span>&#x000A;      <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">list</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;        <span class="tag">&lt;label</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">item item-input</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;          <span class="tag">&lt;span</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">input-label</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Name<span class="tag">&lt;/span&gt;</span>&#x000A;          <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">ng-model</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">contact.name</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;        <span class="tag">&lt;/label&gt;</span>&#x000A;        <span class="tag">&lt;label</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">item item-input</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;          <span class="tag">&lt;span</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">input-label</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Info<span class="tag">&lt;/span&gt;</span>&#x000A;          <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">ng-model</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">contact.info</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;        <span class="tag">&lt;/label&gt;</span>&#x000A;      <span class="tag">&lt;/div&gt;</span>&#x000A;&#x000A;      <span class="tag">&lt;button</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">button button-full button-energized</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">ng-click</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">closeModal()</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Done<span class="tag">&lt;/button&gt;</span>&#x000A;    &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">ion-content&gt;&#x000A;  &lt;</span><span class="delimiter">/</span></span>div&gt;</span>&#x000A;<span class="tag">&lt;/script&gt;</span></pre></div>
              </div>
              </div>
              
              <p>In production, you may want to separate your templates into separate files or add them to the <code>templateCache</code>. Like many other parts of Ionic that use templates, Angular will first search in the <code>templateCache</code> for files it needs.</p>
              
              <h2 id="showing-the-modal">Showing the Modal</h2>
              
              <p>The controller code for the modal is very simple. We make sure to inject <code>$ionicModal</code> for use in our controller:</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre>app.controller(<span class="string"><span class="delimiter">'</span><span class="content">MainCtrl</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(<span class="predefined">$scope</span>, <span class="predefined">$ionicModal</span>) {&#x000A;  <span class="predefined">$scope</span>.contact = {&#x000A;    <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">Mittens Cat</span><span class="delimiter">'</span></span>,&#x000A;    <span class="key">info</span>: <span class="string"><span class="delimiter">'</span><span class="content">Tap anywhere on the card to open the modal</span><span class="delimiter">'</span></span>&#x000A;  }&#x000A;&#x000A;  <span class="predefined">$ionicModal</span>.fromTemplateUrl(<span class="string"><span class="delimiter">'</span><span class="content">contact-modal.html</span><span class="delimiter">'</span></span>, {&#x000A;    <span class="key">scope</span>: <span class="predefined">$scope</span>,&#x000A;    <span class="key">animation</span>: <span class="string"><span class="delimiter">'</span><span class="content">slide-in-up</span><span class="delimiter">'</span></span>&#x000A;  }).then(<span class="keyword">function</span>(modal) {&#x000A;    <span class="predefined">$scope</span>.modal = modal&#x000A;  })  &#x000A;&#x000A;  <span class="predefined">$scope</span>.<span class="function">openModal</span> = <span class="keyword">function</span>() {&#x000A;    <span class="predefined">$scope</span>.modal.show()&#x000A;  }&#x000A;&#x000A;  <span class="predefined">$scope</span>.<span class="function">closeModal</span> = <span class="keyword">function</span>() {&#x000A;    <span class="predefined">$scope</span>.modal.hide();&#x000A;  };&#x000A;&#x000A;  <span class="predefined">$scope</span>.<span class="predefined">$on</span>(<span class="string"><span class="delimiter">'</span><span class="content">$destroy</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>() {&#x000A;    <span class="predefined">$scope</span>.modal.remove();&#x000A;  });&#x000A;})</pre></div>
              </div>
              </div>
              
              <p>Ionic’s modal uses a deferred. This is so that it can asynchronously access the template cache and build the modal up. We can pass in a scope, which defaults to the <code>$rootScope</code> if none is supplied. An animation is also allowed. There are many more options available in the documentation.</p>
              
              <p>Once the modal has been defined, the deferred allows us to set the modal. A modal then has several functions. In this case, we care about the <code>show</code>, <code>hide</code>, and <code>remove</code> functions. The <code>remove</code> function is particularly important. By listening to the <code>$destroy</code> event on the scope, we can make sure to garbage collect our modal. Omitting this would cause a memory leak in your app!</p>
              
              <h2 id="parting-notes">Parting Notes</h2>
              
              <p>Check out the modal below in the Scratchpad to see how the pieces work together. A modal is a very powerful UI component when executed correctly, and Ionic makes it easy to display and use modals in your application.</p>
              <section class='scratchpad'>
                <p>Try this tutorial out below in the Scratchpad:</p>
                <div id='scratch'></div>
              </section>
              <footer>
                <h6>further reading</h6>
                <div class='similar-items list'>
                  <div class='item-row'>
                    <div class='similar-item'>
                      <a href='/formulas/action-sheets/'>Understanding Action Sheets</a>
                      <p>Action sheets can be a useful UI for providing contextual actions. Learn how to create one, and use custom gestures as a bonus.</p>
                    </div>
                  </div>
                  <div class='rule'></div>
                  <div class='similar-item'>
                    <a href='/formulas/using-the-grid/'>Using the Grid</a>
                    <p>Get started with using Ionic's grid system to organize your content.</p>
                  </div>
                  <div class='item-row'>
                    <div class='similar-item'>
                      <a href='/formulas/pull-to-refresh/'>Pull to Refresh</a>
                      <p>Update your lists in real time using pull-to-refresh with the handy ion-refresher directive!</p>
                    </div>
                  </div>
                  <div class='rule'></div>
                  <div class='similar-item'>
                    <a href='/formulas/navigation-bar-vs-header-bar/'>Navigating Ionic's Headers</a>
                    <p>Ionic includes multiple ways to display a header at the top of the screen. Learn the difference between nav bars and header bars, and when to use each.</p>
                  </div>
                </div>
              </footer>
            </article>
          </div>
        </div>
      </div>
      <footer class='main'>
        <span class='attribution'>&copy; 2014 Drifty Co.</span>
        <span class='expand-wrapper'>
          <span class='expand'></span>
        </span>
        <nav id='nav'>
          <a href='http://ionicframework.com' target='_blank'>Ionic</a>
          <a href='https://github.com/driftyco/ionic' target='_blank'>Github</a>
          <a href='mailto:hi@ionicframework.com' target='_blank'>Contact us</a>
          <a href='https://github.com/driftyco/ionic-learn/issues/new' target='_blank'>Suggestions</a>
          <a href='http://ionicons.com/' target='_blank'>Ionicons</a>
          <a href='http://ionicframework.com/jobs/' target='_blank'>Jobs</a>
          <a href='http://forum.ionicframework.com/' target='_blank'>Forum</a>
          <a href='http://ionicframework.com/blog/' target='_blank'>Blog</a>
          <a href='http://drifty.com' target='_blank'>Drifty Co</a>
        </nav>
      </footer>
    </div>
    <div class='get-ionic-wrapper viewed'>
      <a class='get-ionic' href='http://www.ionicframework.com' target='_new'>Get building with Ionic today!</a>
      <a class='close-cta ion-ios7-close-empty' href='#'></a>
    </div>
    <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js'></script>
    <script src='//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js'></script>
    <script src='//scratch.ionicsdk.com/static/js/embed.js'></script>
      <script>
        $(function() {
          var getTemplate = function(url) {
            return $.ajax({url: location.pathname + '/' + url, dataType: 'text'})
          }
        
          $.when(getTemplate('template.html'), getTemplate('style.css'), getTemplate('script.js')).then(function(html, css, js) {
            var scratch = new IonicScratch({
              el: document.getElementById('scratch'),
              width: '100%',
              height: '600px',
              html: html[0],
              css: css[0],
              js: js[0]
            });
          })
        })
      </script>
    <script src='/js/main.js'></script>
  </body>
</html>
