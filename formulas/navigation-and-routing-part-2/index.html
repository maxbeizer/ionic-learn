<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <meta charset='utf-8'>
    <title>Build an App with Navigation and Routing - Part 2 | Formulas | Learn Ionic</title>
    <link href='/css/site.css' rel='stylesheet'>
    <link href='//cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.0/animate.min.css' rel='stylesheet'>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-44023830-6', 'ionicframework.com');
      ga('send', 'pageview');
    </script>
  </head>
  <body class='full-page no-js'>
    <script>
      document.body.classList.remove('no-js');
    </script>
    <div class='container'>
      <div class='row'>
        <div class='side-nav'>
          <div class='logo'>
            <a href='/'>
              <img alt='Learn Ionic Framework' height='43' src='/img/learn-ionicframework@2x.png' width='194'>
            </a>
          </div>
          <nav>
            <ul>
              <li>
                <a href='/videos/'>
                  <i class='ion-videos'></i>
                  <p>Videos</p>
                </a>
              </li>
              <li>
                <a class='active' href='/formulas/'>
                  <i class='ion-formulas'></i>
                  <p>Formulas</p>
                </a>
              </li>
              <li>
                <a href='/talks/'>
                  <i class='ion-talks'></i>
                  <p>Talks</p>
                </a>
              </li>
              <li>
                <a href='/resources/'>
                  <i class='ion-resources'></i>
                  <p>Resources</p>
                </a>
              </li>
            </ul>
            <footer>
              <ul>
                <li>
                  <a href='https://github.com/driftyco/ionic-learn/issues/new' target='_new'>
                    <i class='ion-suggestions'></i>
                    <p>Suggest a Topic</p>
                  </a>
                </li>
                <li>
                  <a href='http://forum.ionicframework.com/' target='_new'>
                    <i class='ion-forum'></i>
                    <p>Forums</p>
                  </a>
                </li>
                <li>
                  <a href='https://github.com/driftyco/ionic' target='_new'>
                    <i class='ion-github'></i>
                    <p>Github</p>
                  </a>
                </li>
                <li>
                  <a href='https://twitter.com/ionicframework' target='_new'>
                    <i class='ion-twitter'></i>
                    <p>Twitter</p>
                  </a>
                </li>
                <li>
                  <a href='https://plus.google.com/+Ionicframework/posts' target='_new'>
                    <i class='ion-googleplus'></i>
                    <p>Plus</p>
                  </a>
                </li>
              </ul>
            </footer>
            <form action='http://codiqa.createsend.com/t/t/s/thodi/' class='email-digest' method='post'>
              <label for='cm-thodi-thodi'>
                <p>Sign up for the weekly Learn Digest!</p>
              </label>
              <div class='digest-wrapper'>
                <input name='cm-thodi-thodi' placeholder='Email address' required type='email'>
                <input type='submit' value='Go'>
              </div>
            </form>
            <div class='email-digest-success'>
              <p>Thanks for signing up. Every Friday you'll get an update on all of the new and exciting lessons on Learn Ionic!</p>
            </div>
          </nav>
        </div>
        <div class='main-pane'>
          <div class='content formula'>
            <nav>
              <a class='left' href='/formulas/'>
                <i class='ion-chevron-left'></i>
                <span style='margin-left:-5px;'>All Formulas</span>
              </a>
            </nav>
            <article>
              <header>
                <h1>Build an App with Navigation and Routing - Part 2</h1>
                <div class='byline'>
                  <img src='/img/authors/gerred-dillon.png'>
                  <span class='author'>
                    Written by
                    <a href='https://twitter.com/justicefries' target='_new'>Gerred Dillon</a>
                  </span>
                  <time></time>
                </div>
                <div class='social-buttons'>
                  <a href="https://twitter.com/share" class="twitter-share-button" data-text="Learn how to use navigation and routing with a complex Ionic app" data-via="ionicframework" data-related="ionicframework">Tweet</a>
                  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                </div>
              </header>
              <p>Now that we have built a basic application with Ionic’s navigation and routing stack, let’s extend it to see some of it’s more advanced features. If you haven’t already, complete the <a href="/formulas/navigation-and-routing-part-1/">first part of this series.</a></p>
              
              <p>Throughout this formula, we will construct a basic Todos system that maintains state as the app is navigated. To see the final code in action, check out the Scratchpad at the end of the formula.</p>
              
              <h2 id="changing-our-view">Changing our view</h2>
              
              <p>To start, let’s alter our Home view to display a list of Todos. We can do this by changing our state declaration for <code>app.home</code> to the following:</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre><span class="predefined">$stateProvider</span>.state(<span class="string"><span class="delimiter">'</span><span class="content">app.todos</span><span class="delimiter">'</span></span>, {&#x000A;  <span class="key">url</span>: <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>,&#x000A;  <span class="key">views</span>: {&#x000A;    <span class="key">todos</span>: {&#x000A;      <span class="key">templateUrl</span>: <span class="string"><span class="delimiter">'</span><span class="content">todos.html</span><span class="delimiter">'</span></span>,&#x000A;      <span class="key">controller</span>: <span class="string"><span class="delimiter">'</span><span class="content">TodosCtrl</span><span class="delimiter">'</span></span>&#x000A;    }&#x000A;  }&#x000A;})</pre></div>
              </div>
              </div>
              
              <p>Initially, this breaks our app, because we haven’t updated our template to reflect the new state. Update your main template so that the tabs point to the correct place:</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre><span class="tag">&lt;ion-nav-bar</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">bar-positive</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;<span class="tag">&lt;/ion-nav-bar&gt;</span>&#x000A;<span class="tag">&lt;ion-tabs</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">tabs-positive</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;  <span class="tag">&lt;ion-tab</span> <span class="attribute-name">icon</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ion-checkmark</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">ui-sref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">app.todos</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;    <span class="tag">&lt;ion-nav-view</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">todos</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/ion-nav-view&gt;</span>&#x000A;  <span class="tag">&lt;/ion-tab&gt;</span>&#x000A;  <span class="tag">&lt;ion-tab</span> <span class="attribute-name">icon</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ion-help</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">ui-sref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">app.help</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;    <span class="tag">&lt;ion-nav-view</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">help</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/ion-nav-view&gt;</span>&#x000A;  <span class="tag">&lt;/ion-tab&gt;</span>&#x000A;<span class="tag">&lt;/ion-tabs&gt;</span></pre></div>
              </div>
              </div>
              
              <p>We also need a template corresponding to the URL we registered with the router:</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre><span class="tag">&lt;ion-view</span> <span class="attribute-name">title</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Todos</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;  <span class="tag">&lt;ion-content&gt;</span>&#x000A;    <span class="tag">&lt;ion-list&gt;</span>&#x000A;      <span class="tag">&lt;ion-item</span> <span class="attribute-name">ng-repeat</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">todo in todos</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">item item-icon-right</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;        <span class="tag">&lt;span</span> <span class="attribute-name">ng-class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{done: todo.done}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>{{todo.title}}<span class="tag">&lt;/span&gt;</span>&#x000A;      <span class="tag">&lt;/ion-item&gt;</span>&#x000A;    <span class="tag">&lt;/ion-list&gt;</span>&#x000A;  <span class="tag">&lt;/ion-content&gt;</span>&#x000A;<span class="tag">&lt;/ion-view&gt;</span></pre></div>
              </div>
              </div>
              
              <p>If you have used the routing system before, or went through part 1 of this series, this should all look familiar. If not, check out part 1 of the series to get caught up.</p>
              
              <p>We now have a list system, but no data. We will expand upon this later, but for now let’s declare a TodosCtrl that will contain our Todos data, and pass it to the scope:</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre>app.controller(<span class="string"><span class="delimiter">'</span><span class="content">TodosCtrl</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(<span class="predefined">$scope</span>) {&#x000A;  <span class="predefined">$scope</span>.todos = [&#x000A;      {<span class="key">title</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Take out the trash</span><span class="delimiter">&quot;</span></span>, <span class="key">done</span>: <span class="predefined-constant">true</span>},&#x000A;      {<span class="key">title</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Do laundry</span><span class="delimiter">&quot;</span></span>, <span class="key">done</span>: <span class="predefined-constant">false</span>},&#x000A;      {<span class="key">title</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Start cooking dinner</span><span class="delimiter">&quot;</span></span>, <span class="key">done</span>: <span class="predefined-constant">false</span>}&#x000A;   ]&#x000A;})</pre></div>
              </div>
              </div>
              
              <p>When we refresh the page, a list of todos appears! This is fairly conventional by Angular standards. To make the done todos stand out, I added some simple styling to create a strikethrough of the text:</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre><span class="class">.done</span> {&#x000A;  <span class="key">text-decoration</span>: <span class="value">line-through</span>;&#x000A;}</pre></div>
              </div>
              </div>
              
              <h3 id="getting-details">Getting Details</h3>
              
              <p>Now that we have our list, we want to be able to dive into a detail view for a particular todo. This will let us see more information (if there is any), and perform actions (such as completing it). Before we do this, we need to introduce an important concept in the routing system: abstract states.</p>
              
              <p>Abstract states are a fairly simple concept in Ionic, and provide the structure necessary to handle advanced features like view nesting. Restructure your routing code to look like this:</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre><span class="predefined">$stateProvider</span>.state(<span class="string"><span class="delimiter">'</span><span class="content">app.todos</span><span class="delimiter">'</span></span>, {&#x000A;  <span class="reserved">abstract</span>: <span class="predefined-constant">true</span>,&#x000A;  <span class="key">url</span>: <span class="string"><span class="delimiter">'</span><span class="content">/todos</span><span class="delimiter">'</span></span>,&#x000A;  <span class="key">views</span>: {&#x000A;    <span class="key">todos</span>: {&#x000A;      <span class="key">template</span>: <span class="string"><span class="delimiter">'</span><span class="content">&lt;ion-nav-view&gt;&lt;/ion-nav-view&gt;</span><span class="delimiter">'</span></span>&#x000A;    }&#x000A;  }&#x000A;})&#x000A;&#x000A;<span class="predefined">$stateProvider</span>.state(<span class="string"><span class="delimiter">'</span><span class="content">app.todos.index</span><span class="delimiter">'</span></span>, {&#x000A;  <span class="key">url</span>: <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>,&#x000A;  <span class="key">templateUrl</span>: <span class="string"><span class="delimiter">'</span><span class="content">todos.html</span><span class="delimiter">'</span></span>,&#x000A;  <span class="key">controller</span>: <span class="string"><span class="delimiter">'</span><span class="content">TodosCtrl</span><span class="delimiter">'</span></span>&#x000A;})&#x000A;&#x000A;<span class="predefined">$stateProvider</span>.state(<span class="string"><span class="delimiter">'</span><span class="content">app.todos.detail</span><span class="delimiter">'</span></span>, {&#x000A;  <span class="key">url</span>: <span class="string"><span class="delimiter">'</span><span class="content">/:todo</span><span class="delimiter">'</span></span>,&#x000A;  <span class="key">templateUrl</span>: <span class="string"><span class="delimiter">'</span><span class="content">todo.html</span><span class="delimiter">'</span></span>,&#x000A;  <span class="key">controller</span>: <span class="string"><span class="delimiter">'</span><span class="content">TodoCtrl</span><span class="delimiter">'</span></span>&#x000A;})</pre></div>
              </div>
              </div>
              
              <p>A lot has changed! With app.todos in play, we create a nested level of our state machine namespaced to <code>app.todos</code>, complete with sub-url routing. Notice that our abstract URL is just called <code>/todos</code>. This allows us to simplify our child URLs.</p>
              
              <p>One more thing. Let’s hook up the index’s template to link to the detail, and create the detail template. Here’s our new <code>todos.html</code>:</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre><span class="tag">&lt;ion-view</span> <span class="attribute-name">title</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Todos</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;  <span class="tag">&lt;ion-content&gt;</span>&#x000A;    <span class="tag">&lt;ion-list&gt;</span>&#x000A;      <span class="tag">&lt;ion-item</span> <span class="attribute-name">ng-repeat</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">todo in todos</span><span class="delimiter">&quot;</span></span>&#x000A;        <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">item item-icon-right</span><span class="delimiter">&quot;</span></span>&#x000A;        <span class="attribute-name">ui-sref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">app.todos.detail({todo: $index})</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;        <span class="tag">&lt;span</span> <span class="attribute-name">ng-class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">{done: todo.done}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>{{todo.title}}<span class="tag">&lt;/span&gt;</span>&#x000A;      <span class="tag">&lt;/ion-item&gt;</span>&#x000A;    <span class="tag">&lt;/ion-list&gt;</span>&#x000A;  <span class="tag">&lt;/ion-content&gt;</span>&#x000A;<span class="tag">&lt;/ion-view&gt;</span></pre></div>
              </div>
              </div>
              
              <p>We’ve used the <code>ui-sref</code> directive before, but now we’ve added something new. This syntax allows us to pass in an object that specifies our link’s parameters. In this case, we pass the todo’s array index as a parameter.</p>
              
              <p>And here’s <code>todo.html</code>, representing our detail view:</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre><span class="tag">&lt;ion-view</span> <span class="attribute-name">title</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Todo</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;  <span class="tag">&lt;ion-content&gt;</span>&#x000A;      <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">item</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;        <span class="tag">&lt;p&gt;</span>{{todo.title}}<span class="tag">&lt;/p&gt;</span>&#x000A;      <span class="tag">&lt;/div&gt;</span>&#x000A;&#x000A;      <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">item item-checkbox</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;        <span class="tag">&lt;div&gt;</span>&#x000A;          <span class="tag">&lt;label</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">checkbox</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;            <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">checkbox</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">ng-model</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">todo.done</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;          <span class="tag">&lt;/label&gt;</span>&#x000A;          Done&#x000A;        <span class="tag">&lt;/div&gt;</span>&#x000A;&#x000A;      <span class="tag">&lt;/div&gt;</span>&#x000A;  <span class="tag">&lt;/ion-content&gt;</span>&#x000A;<span class="tag">&lt;/ion-view&gt;</span></pre></div>
              </div>
              </div>
              
              <p>How does the detail view know which todo to use? The routing system doesn’t support passing the object reference directly, so we will need a way to access the object. For this, we will need to create a TodosService that can be accessed by all parts of our app.</p>
              
              <p>The detail state’s URL has a parameter specified. This is important for passing data around in the router. In the next section, we will centralize our Todos data into a service and use this parameter to fetch that particular piece of data.</p>
              
              <h3 id="tying-it-all-together">Tying It All Together</h3>
              
              <p>If you have created a service in Angular before, this will be familiar. If not, we are using an AngularJS factory to create a singleton representation of our Todos, that can be read and updated from multiple sources. If you are new to the concept of services in Angular, <a href="https://docs.angularjs.org/guide/services">check out the documentation for services</a>.</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre>app.factory(<span class="string"><span class="delimiter">'</span><span class="content">TodosService</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>() {&#x000A;  <span class="keyword">var</span> todos = [&#x000A;      {<span class="key">title</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Take out the trash</span><span class="delimiter">&quot;</span></span>, <span class="key">done</span>: <span class="predefined-constant">true</span>},&#x000A;      {<span class="key">title</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Do laundry</span><span class="delimiter">&quot;</span></span>, <span class="key">done</span>: <span class="predefined-constant">false</span>},&#x000A;      {<span class="key">title</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Start cooking dinner</span><span class="delimiter">&quot;</span></span>, <span class="key">done</span>: <span class="predefined-constant">false</span>}&#x000A;   ]&#x000A;&#x000A;  <span class="keyword">return</span> {&#x000A;    <span class="key">todos</span>: todos,&#x000A;    <span class="function">getTodo</span>: <span class="keyword">function</span>(index) {&#x000A;      <span class="keyword">return</span> todos[index]&#x000A;    }&#x000A;  }&#x000A;})</pre></div>
              </div>
              </div>
              
              <p>Our <code>TodosCtrl</code> code now becomes:</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre>app.controller(<span class="string"><span class="delimiter">'</span><span class="content">TodosCtrl</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(<span class="predefined">$scope</span>, TodosService) {&#x000A;  <span class="predefined">$scope</span>.todos = TodosService.todos&#x000A;})</pre></div>
              </div>
              </div>
              
              <p>Now we want to create a <code>TodoCtrl</code> that will manage our detail view. In the Angular digest cycle, the controller code is run last, however. What if we wanted to make sure our data was available before we rendered the route and made it available? This is particularly useful when making a request to the server for data when a route changes.</p>
              
              <p>There are several ways to do this, but the router provides an easy way to do this with the <code>resolve</code> step. Change the <code>app.todos.detail</code> state to the following:</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre><span class="predefined">$stateProvider</span>.state(<span class="string"><span class="delimiter">'</span><span class="content">app.todos.detail</span><span class="delimiter">'</span></span>, {&#x000A;  <span class="key">url</span>: <span class="string"><span class="delimiter">'</span><span class="content">/:todo</span><span class="delimiter">'</span></span>,&#x000A;  <span class="key">templateUrl</span>: <span class="string"><span class="delimiter">'</span><span class="content">todo.html</span><span class="delimiter">'</span></span>,&#x000A;  <span class="key">controller</span>: <span class="string"><span class="delimiter">'</span><span class="content">TodoCtrl</span><span class="delimiter">'</span></span>,&#x000A;  <span class="key">resolve</span>: {&#x000A;    <span class="function">todo</span>: <span class="keyword">function</span>(<span class="predefined">$stateParams</span>, TodosService) {&#x000A;      <span class="keyword">return</span> TodosService.getTodo(<span class="predefined">$stateParams</span>.todo)&#x000A;    }&#x000A;  }&#x000A;})</pre></div>
              </div>
              </div>
              
              <p>Resolve is an object whose keys map to values that can be injected in your state’s controller. It will work with values or deferreds out of the box, making it particularly useful for asynchronous data loading. We can now setup a <code>TodoCtrl</code> to access this data:</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre>app.controller(<span class="string"><span class="delimiter">'</span><span class="content">TodoCtrl</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(<span class="predefined">$scope</span>, todo) {&#x000A;  <span class="predefined">$scope</span>.todo = todo&#x000A;})</pre></div>
              </div>
              </div>
              
              <p>Run the app, and tap into a todo. We move into a detail view! Navigation state is also preserved at each level in the hierarchy. Try tapping on the help tab and back - you will still be in the detail view for the Todo.</p>
              
              <p>However, we have left out one important thing: a back button.</p>
              
              <h3 id="going-back">Going Back</h3>
              
              <p>Being able to dive into nested state isn’t very useful if we can’t escape from it. To do that, let’s update the <code>ion-nav-bar</code> directive in <code>main.html</code> to look like:</p>
              
              <div><div class="CodeRay">
                <div class="code"><pre><span class="tag">&lt;ion-nav-bar</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">bar-positive</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;  <span class="tag">&lt;ion-nav-back-button</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">button-clear</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>&#x000A;    <span class="tag">&lt;i</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">ion-arrow-left-c</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/i&gt;</span> Back&#x000A;  <span class="tag">&lt;/ion-nav-back-button&gt;</span>&#x000A;<span class="tag">&lt;/ion-nav-bar&gt;</span></pre></div>
              </div>
              </div>
              
              <p>The <code>ion-nav-back-button</code> is really smart. It understands when you move through the same level (or deeper levels) of the navigation hierarchy, and will give you the back button when necessary to traverse back up the stack. Run it now, and we find that we can go back and forth!</p>
              
              <h3 id="conclusion">Conclusion</h3>
              
              <p>We have now created the very basics of a Todos app, complete with a complex navigation hierarchy. In the final part of this series, we will add a side menu into the navigation stack, as well as the ability to create new todos.</p>
              
              <p>In the meantime, customize your app, or check out our example down in the Scratchpad!</p>
              <section class='scratchpad'>
                <p>Try this tutorial out below in the Scratchpad:</p>
                <div id='scratch'></div>
              </section>
              <footer>
                <h6>further reading</h6>
                <div class='similar-items list'>
                  <div class='item-row'>
                    <div class='similar-item'>
                      <a href='/formulas/navigation-and-routing-part-1/'>Build an App with Navigation and Routing - Part 1</a>
                      <p>It's easy to maintain state with a simple app. As size and complexity grows, so does the challenge of handling that state. In this formula, we will begin an application that takes advantage of Ionic's navigation and routing, and shows how to use it with Ionic's UI.</p>
                    </div>
                  </div>
                </div>
              </footer>
            </article>
          </div>
        </div>
      </div>
      <footer class='main'>
        <span class='attribution'>&copy; 2014 Drifty Co.</span>
        <span class='expand-wrapper'>
          <span class='expand'></span>
        </span>
        <nav id='nav'>
          <a href='http://ionicframework.com' target='_blank'>Ionic</a>
          <a href='https://github.com/driftyco/ionic' target='_blank'>Github</a>
          <a href='mailto:hi@ionicframework.com' target='_blank'>Contact us</a>
          <a href='https://github.com/driftyco/ionic-learn/issues/new' target='_blank'>Suggestions</a>
          <a href='http://ionicons.com/' target='_blank'>Ionicons</a>
          <a href='http://ionicframework.com/jobs/' target='_blank'>Jobs</a>
          <a href='http://forum.ionicframework.com/' target='_blank'>Forum</a>
          <a href='http://ionicframework.com/blog/' target='_blank'>Blog</a>
          <a href='http://drifty.com' target='_blank'>Drifty Co</a>
        </nav>
      </footer>
    </div>
    <div class='get-ionic-wrapper viewed'>
      <a class='get-ionic' href='http://www.ionicframework.com' target='_new'>Get building with Ionic today!</a>
      <a class='close-cta ion-ios7-close-empty' href='#'></a>
    </div>
    <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js'></script>
    <script src='//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js'></script>
    <script src='//scratch.ionicsdk.com/static/js/embed.js'></script>
      <script>
        $(function() {
          var getTemplate = function(url) {
            return $.ajax({url: location.pathname + '/' + url, dataType: 'text'})
          }
        
          $.when(getTemplate('template.html'), getTemplate('style.css'), getTemplate('script.js')).then(function(html, css, js) {
            var scratch = new IonicScratch({
              el: document.getElementById('scratch'),
              width: '100%',
              height: '600px',
              html: html[0],
              css: css[0],
              js: js[0]
            });
          })
        })
      </script>
    <script src='/js/main.js'></script>
  </body>
</html>
